"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7750],{64789:function(xe,ie,e){e.d(ie,{Z:function(){return M}});var f=e(87462),a=e(67294),ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},S=ce,A=e(84089),K=function(ee,N){return a.createElement(A.Z,(0,f.Z)({},ee,{ref:N,icon:S}))},Q=a.forwardRef(K),M=Q},92067:function(xe,ie,e){e.d(ie,{Z:function(){return de}});var f=e(15009),a=e.n(f),ce=e(99289),S=e.n(ce),A=e(13822),K=e(64789),Q=e(56729),M=e(42075),J=e(83062),ee=e(83622),N=e(37413),fe=e(5251),c=e(36146),le=e(67255),i=e(85893);function de(T){return(0,i.jsx)(Q.Z,{columns:[{title:c.FD.format("listContainerName"),dataIndex:"name",render:function(x,R,V,g){return(0,i.jsx)(M.Z,{direction:"vertical",style:{textAlign:"left"},children:R==null?void 0:R.Names.map(function(b){return(0,fe.fi)(b,"/")})},R.Id)}},{title:c.FD.format("listPort"),dataIndex:"ports",search:!1,render:function(x,R,V,g){var b=[],l=[];return R!=null&&R.Ports&&R.Ports.map(function(h,O){h.PublicPort?b.push(h):l.push(h)}),(0,i.jsx)(N.Z,{publicPort:b,privatePort:l,domain:[]})}},{title:c.FD.format("listManage"),valueType:"option",key:"option",ellipsis:!0,width:100,render:function(x,R,V,g){return[(0,i.jsx)(J.Z,{title:c.FD.format("listManageUse"),children:(0,i.jsx)(ee.ZP,{type:"link",onClick:S()(a()().mark(function b(){var l;return a()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,A.jV)({md5:R.Id});case 2:l=O.sent,T.onSelect&&T.onSelect(l.data.info);case 4:case"end":return O.stop()}},b)})),children:(0,i.jsx)(K.Z,{})},R.Id)},R.Id)]}}],rowKey:"Id",request:function(){var F=S()(a()().mark(function x(R,V,g){var b;return a()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,A.IE)({siteTitle:R.name});case 2:return b=h.sent,h.abrupt("return",{data:b.data.list,success:!0,total:b.data.list.length});case 4:case"end":return h.stop()}},x)}));return function(x,R,V){return F.apply(this,arguments)}}(),pagination:(0,le.Oh)()})}},37413:function(xe,ie,e){e.d(ie,{Z:function(){return le}});var f=e(19632),a=e.n(f),ce=e(36146),S=e(85577),A=e(58638),K=e(36693),Q=e(35995),M=e(99611),J=e(38345),ee=e(42075),N=e(66309),fe=e(55241),c=e(85893);function le(i){var de,T=new ce.Uo("components.containerPort"),F=[];i.publicPort&&(F=a()(i.publicPort)),i.privatePort&&(F=[].concat(a()(F),a()(i.privatePort)));var x=(de=i.serverIp)!==null&&de!==void 0?de:"localhost";if(x!=""&&x.indexOf("http")===-1&&x.indexOf(":")>-1&&(x="[".concat(x,"]")),x==""||x=="127.0.0.1"){var R=document.location.protocol+"//"+document.location.hostname;x=R}var V=(0,c.jsxs)(J.Z,{direction:i.layout=="inline"?"row":"column",style:{width:i.layout!="inline"?600:"auto"},ghost:!0,children:[F.length>0&&(0,c.jsx)(J.Z,{title:(0,c.jsx)(S.Z,{}),subTitle:T.format("cardPortTitle"),ghost:i.ghost,bodyStyle:{maxHeight:300,overflow:"auto",margin:"10px 0"},children:F.map(function(g,b){var l;return x==""&&g.IP&&(x=g.IP),(0,c.jsx)(ee.Z,{size:"large",wrap:!0,children:(0,c.jsx)(N.Z,{color:g.PublicPort?"blue":"yellow",icon:g.PublicPort?(0,c.jsx)(A.Z,{}):"",style:{marginBottom:10,marginRight:15},children:g.PublicPort?(0,c.jsx)("a",{href:"".concat(x.indexOf("http")===0?x:"http://"+x,":").concat(g.PublicPort),target:"_blank",children:"".concat(g.PublicPort?((l=g.IP)!==null&&l!==void 0?l:"0.0.0.0")+":"+g.PublicPort+" -> ":"").concat(g.PrivatePort,"/").concat(g.Type)},"link".concat(b)):"".concat(g.PrivatePort,"/").concat(g.Type)})},"space".concat(b))})}),i.domain&&i.domain.length>0&&(0,c.jsx)(J.Z,{title:(0,c.jsx)(K.Z,{}),subTitle:T.format("cardDomainTitle"),ghost:i.ghost,children:(0,c.jsx)(ee.Z,{wrap:!0,style:{textAlign:"left"},children:i.domain&&i.domain.map(function(g,b){return(0,c.jsx)(N.Z,{color:"blue",icon:(0,c.jsx)(A.Z,{}),children:(0,c.jsx)("a",{href:g,target:"_blank",children:g})},"domain".concat(b))})})})]});return i.showInDetail?V:(0,c.jsx)(fe.Z,{placement:"right",content:V,children:(0,c.jsxs)(ee.Z,{direction:"vertical",children:[i.privatePort&&i.privatePort.length>0&&(0,c.jsxs)(N.Z,{color:"yellow",icon:(0,c.jsx)(Q.Z,{}),children:[T.format("portPrivate"),": ",i.privatePort.length]}),i.publicPort&&i.publicPort.length>0&&(0,c.jsxs)(N.Z,{color:"blue",icon:(0,c.jsx)(M.Z,{}),children:[T.format("protPublic"),": ",i.publicPort.length]}),i.domain&&i.domain.length>0&&(0,c.jsx)(N.Z,{color:"geekblue",icon:(0,c.jsx)(K.Z,{}),children:i.domainTitle?i.domainTitle:"".concat(T.format("domain"),": ").concat(i.domain.length)})]})})}},96668:function(xe,ie,e){e.r(ie),e.d(ie,{default:function(){return pe}});var f=e(15009),a=e.n(f),ce=e(99289),S=e.n(ce),A=e(5574),K=e.n(A),Q=e(1699),M=e(66554),J=e(184),ee=e(24739),N=e(97462),fe=e(5966),c=e(62370),le=e(64317),i=e(86615),de=e(31199),T=e(52688),F=e(11106),x=e(83622),R=e(92398),V=e(84567),g=e(42075),b=e(66309),l=e(85265),h=e(71230),O=e(15746),o=e(40056),ne=e(67294),be=e(92067),Oe=e(74026),Ee=e(3616),Y=e(36146),n=e(85893),Ie=(0,ne.forwardRef)(function(I,G){var k=(0,ne.useState)(!1),D=K()(k,2),ae=D[0],q=D[1],H=(0,ne.useRef)(),ve=(0,ne.useState)(),L=K()(ve,2),p=L[0],s=L[1],oe=(0,ne.useState)(!1),$=K()(oe,2),Z=$[0],m=$[1],B=(0,ne.useState)(1),Pe=K()(B,2),se=Pe[0],y=Pe[1],P=new Y.Uo("components.appDomain");return(0,ne.useImperativeHandle)(G,function(){return{showEdit:function(C){return S()(a()().mark(function v(){var w,he,j;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,M.lQ)({id:C});case 2:he=_.sent,j=he.data,(w=H.current)===null||w===void 0||w.setFieldsValue({containerId:j.domain.containerId,serverName:j.domain.serverName,serverNameAlias:j.domain.setting.serverNameAlias,protocol:j.domain.setting.serverProtocol,port:j.domain.setting.port,enableBlockCommonExploits:j.domain.setting.enableBlockCommonExploits,enableAssetCache:j.domain.setting.enableAssetCache,enableWs:j.domain.setting.enableWs,extraNginx:j.domain.setting.extraNginx,enableSSL:j.domain.setting.enableSSL,certName:j.domain.setting.certName,vhost:j.vhost,hostname:j.domain.setting.serverAddress}),s(j),q(!0);case 7:case"end":return _.stop()}},v)}))()}}}),(0,n.jsx)(J.a,{drawerProps:{forceRender:!0,width:Ee.R_},open:ae,onOpenChange:function(C){q(C)},title:P.format("createTitle"),trigger:(0,n.jsx)(x.ZP,{onClick:function(){var C;s(void 0),(C=H.current)===null||C===void 0||C.resetFields()},type:"primary",children:P.format("createTriggerButton")}),formRef:H,onFinish:function(){var W=S()(a()().mark(function C(v){var w,he,j,ge,_;return a()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(!v.vhost){X.next=8;break}return X.next=3,(0,M.Ss)({id:p&&(p==null?void 0:p.domain.id)>0?p.domain.id:0,vhost:v.vhost});case 3:return he=X.sent,X.next=6,(0,M.hZ)();case 6:X.next=11;break;case 8:return X.next=10,(0,M.Fj)({id:p&&(p==null?void 0:p.domain.id)>0?p.domain.id:0,containerId:v.containerId,serverName:v.serverName,serverNameAlias:v.serverNameAlias,hostname:v.hostname,protocol:(j=v.protocol)!==null&&j!==void 0?j:"http",port:parseInt((ge=v.port)!==null&&ge!==void 0?ge:"80"),enableBlockCommonExploits:v.enableBlockCommonExploits,enableAssetCache:v.enableAssetCache,enableWs:v.enableWs,enableSSL:v.enableSSL,extraNginx:v.extraNginx,certName:v.certName});case 10:_=X.sent;case 11:return(w=H.current)===null||w===void 0||w.resetFields(),I.onFinish(),X.abrupt("return",!0);case 14:case"end":return X.stop()}},C)}));return function(C){return W.apply(this,arguments)}}(),children:(0,n.jsx)(R.Z,{items:[{key:"1",label:P.format("createTabDomain"),destroyOnHidden:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(ee.UW,{children:[(0,n.jsx)(N.Z,{name:["enableSSL"],children:function(C){var v=C.enableSSL;return(0,n.jsx)(fe.Z,{width:"lg",label:P.format("createFormServerName"),tooltip:P.format("createFormServerNameTip"),name:"serverName",placeholder:"www.explame.com, demo.com:8807",rules:[{required:!0}],fieldProps:{addonBefore:v?"https://":"http://"},disabled:p&&p.domain.id>0})}}),(0,n.jsx)(c.Z,{label:" ",valuePropName:"checked",name:"enableSSL",children:(0,n.jsx)(V.Z,{children:"Https?"})})]}),(0,n.jsx)(le.Z,{label:P.format("createFormServerNameAlises"),name:"serverNameAlias",mode:"tags",placeholder:P.format("createFormServerNameAlisesEmpty")}),(0,n.jsx)(N.Z,{name:["enableSSL","serverName"],children:function(C){var v=C.enableSSL,w=C.serverName;if(v)return(0,n.jsxs)(g.Z.Compact,{children:[(0,n.jsx)(le.Z,{label:P.format("createFormCertName"),width:"lg",name:"certName",fieldProps:{labelRender:function(j){return j.value}},required:!0,rules:[{required:!0}],request:S()(a()().mark(function he(){var j;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,M.dZ)();case 2:return j=_.sent,_.abrupt("return",j.data&&j.data.list.map(function(je,X){return{label:(0,n.jsx)(g.Z,{wrap:!0,children:je.domain.map(function(me,Ce){return(0,n.jsx)(b.Z,{children:me})})},X),value:"".concat(je.domain[0])}}));case 4:case"end":return _.stop()}},he)}))},se),(0,n.jsx)(c.Z,{label:" ",children:(0,n.jsx)(Oe.Z,{domain:w?[w]:[],onFinish:function(){y(se+1)}})})]})}}),(0,n.jsx)(i.Z.Group,{label:P.format("createFormType"),name:"type",initialValue:"proxy",options:P.option("createFormTypeOption",["proxy","redirect"])}),(0,n.jsxs)(g.Z.Compact,{children:[(0,n.jsx)(le.Z,{label:P.format("createFormProtocol"),tooltip:P.format("createFormProtocolTip"),initialValue:"http",name:"protocol",fieldProps:{allowClear:!1},valueEnum:{http:"http",https:"https"}}),(0,n.jsx)(N.Z,{name:["containerId"],children:function(C){var v=C.containerId;return(0,n.jsx)(fe.Z,{width:"lg",label:" ",name:"hostname",placeholder:P.format("createFormHostnameEmpty"),required:!0,disabled:v,rules:[{required:!0}]})}}),(0,n.jsx)(c.Z,{label:" ",name:"containerId",children:(0,n.jsx)(x.ZP,{type:"primary",onClick:function(){m(!0)},children:P.format("createSelectContainer")})}),(0,n.jsx)(c.Z,{label:" ",name:"containerId",children:(0,n.jsx)(x.ZP,{onClick:function(){var C,v;(C=H.current)===null||C===void 0||C.setFieldValue("containerId",""),(v=H.current)===null||v===void 0||v.setFieldValue("hostname","")},children:P.format("createUser")})}),(0,n.jsx)(l.Z,{open:Z,width:Ee.R_,onClose:function(){return m(!1)},children:(0,n.jsx)(be.Z,{onSelect:function(C){var v,w;(v=H.current)===null||v===void 0||v.setFieldValue("hostname",C.Name),(w=H.current)===null||w===void 0||w.setFieldValue("containerId",C.Id),m(!1)}})})]}),(0,n.jsx)(de.Z,{label:P.format("createFormPort"),name:"port",placeholder:P.format("createFormPortEmpty")}),(0,n.jsxs)(h.Z,{children:[(0,n.jsx)(O.Z,{span:12,children:(0,n.jsx)(T.Z,{label:P.format("createFormEnableBlockCommonExploits"),name:"enableBlockCommonExploits"})}),(0,n.jsx)(O.Z,{children:(0,n.jsx)(T.Z,{width:"md",label:P.format("createFormEnableAssetCache"),name:"enableAssetCache"})})]}),(0,n.jsx)(h.Z,{children:(0,n.jsx)(O.Z,{span:12,children:(0,n.jsx)(T.Z,{label:P.format("createFormEnableWs"),name:"enableWs",initialValue:!0})})}),(0,n.jsx)(c.Z,{name:"extraNginx",label:P.format("createFormExtraNginx"),children:(0,n.jsx)(F.ZP,{height:"300px",theme:"dark",style:{backgroundColor:"#282c34"}})})]})},{key:"3",label:"vhost.conf",destroyOnHidden:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{message:P.format("createVhostTip"),showIcon:!0}),(0,n.jsx)(c.Z,{name:"vhost",label:" ",children:(0,n.jsx)(F.ZP,{height:"600px",theme:"dark",style:{backgroundColor:"#282c34"},onChange:function(){}})})]})}]})})}),De=Ie,Re=e(5251),ye=e(83062),Se=e(38703);function Ze(I){var G,k=0;if(I.sslCrtCreatedAt&&I.sslCrtRenewAt){var D,ae,q=new Date,H=new Date((D=I.sslCrtRenewAt)!==null&&D!==void 0?D:""),ve=new Date((ae=I.sslCrtCreatedAt)!==null&&ae!==void 0?ae:""),L=Math.ceil((H.getTime()-ve.getTime())/86400/1e3),p=Math.ceil((q.getTime()-ve.getTime())/86400/1e3);k=Math.min(Math.ceil(p/L*100),100)}return I.certName?(0,n.jsx)(ye.Z,{placement:"right",title:"".concat(Y.FD.format("listExpireAt"),": ").concat((0,Re.NF)((G=I.sslCrtRenewAt)!==null&&G!==void 0?G:"")),children:(0,n.jsx)(b.Z,{icon:(0,n.jsxs)(g.Z,{children:[(0,n.jsx)(Se.Z,{type:"circle",percent:k,status:k==100?"exception":"active",strokeWidth:20,size:14}),(0,n.jsx)("span",{})]}),children:I.certName})}):"-"}var t=e(80821),r=e(37413),d=e(67255),u=e(86548),E=e(90078),U=e(56729),z=e(82346),te=e(96074),ue=e(25593),re=e(50136);function pe(){var I=(0,ne.useRef)(),G=(0,ne.useRef)(),k=(0,ne.useState)({}),D=K()(k,2),ae=D[0],q=D[1],H=(0,z.useAccess)(),ve=new Y.Uo("app");return(0,n.jsx)(E._z,{extra:[(0,n.jsx)(Q.u,{access:"canSeeContainerDomainManage",children:(0,n.jsx)(De,{ref:G,onFinish:S()(a()().mark(function L(){var p,s;return a()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return!((p=I.current)===null||p===void 0)&&p.reloadAndRest&&((s=I.current)===null||s===void 0||s.reloadAndRest()),$.next=3,(0,M.hZ)();case 3:case"end":return $.stop()}},L)}))},"addDomain")},"addDomain"),(0,n.jsx)(Q.u,{access:"canSeeContainerDomainManage",children:(0,n.jsx)(t.Z,{tips:ve.format("domainRestartNginxTip"),action:S()(a()().mark(function L(){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,M.hZ)();case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},L)})),children:ve.format("domainRestartNginx")},"nginx")},"nginx")],children:(0,n.jsx)(U.Z,{scroll:{x:"max-content"},rowKey:"id",actionRef:I,columns:[{title:Y.FD.format("listDomain"),dataIndex:"serverName",render:function(p,s,oe,$,Z){var m=[];return s.serverName&&m.push(s.setting.enableSSL?"https://"+s.serverName:"http://"+s.serverName),s.setting.serverNameAlias&&s.setting.serverNameAlias.map(function(B){m.push(s.setting.enableSSL?"https://"+B:"http://"+B)}),(0,n.jsx)(r.Z,{domain:m,domainTitle:"".concat(s.serverName," (").concat(m.length,")")})}},{title:Y.FD.format("listTargetAddress"),search:!1,render:function(p,s,oe,$,Z){return"".concat(s.setting.serverAddress,":").concat(s.setting.port)}},{title:Y.FD.format("listCert"),search:!0,dataIndex:"certName",width:300,valueEnum:ae,render:function(p,s,oe,$,Z){return s.setting.enableSSL?(0,n.jsx)(Ze,{certName:s.setting.certName,sslCrtRenewAt:s.setting.sslCrtRenewAt,sslCrtCreatedAt:s.setting.sslCrtCreatedAt}):"-"}},{title:Y.FD.format("listCreatedAt"),search:!1,width:180,ellipsis:!0,dataIndex:"createdAt",render:function(p,s,oe,$,Z){return new Date(s.createdAt).toLocaleString()}},{title:Y.FD.format("listManage"),key:"option",width:50,search:!1,fixed:"right",hidden:!H.canSeeContainerDomainManage,render:function(p,s,oe,$){return(0,n.jsx)(g.Z,{split:(0,n.jsx)(te.Z,{type:"vertical"}),children:(0,n.jsx)(ue.Z.Link,{onClick:function(){var m;return(m=G.current)===null||m===void 0||m.showEdit(s.id),!0},children:(0,n.jsx)(ye.Z,{title:Y.FD.format("listManageEdit"),children:(0,n.jsx)(u.Z,{})})},"edit")})}}],request:function(){var L=S()(a()().mark(function p(s,oe,$){var Z,m,B;return a()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,(0,M.i7)({serverName:s.serverName,certName:s.certName});case 2:return Z=se.sent,se.next=5,(0,M.dZ)();case 5:return m=se.sent,B={},Z.data.list.map(function(y){y.setting.certName&&typeof y.setting.certName=="string"&&(B[y.setting.certName]=y.setting.certName)}),q(B),se.abrupt("return",{data:Z.data.list&&Z.data.list.map(function(y){if(m&&m.data.list){var P,W;y.setting.sslCrtCreatedAt=(P=m.data.list.find(function(C){return C.domain[0]==y.setting.certName}))===null||P===void 0?void 0:P.createdAt,y.setting.sslCrtRenewAt=(W=m.data.list.find(function(C){return C.domain[0]==y.setting.certName}))===null||W===void 0?void 0:W.renewAt}return y}),success:!0,total:Z.data.list.length});case 10:case"end":return se.stop()}},p)}));return function(p,s,oe){return L.apply(this,arguments)}}(),rowSelection:H.canSeeContainerDomainManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,tableAlertOptionRender:function(p){var s=p.selectedRowKeys,oe=p.selectedRows;return(0,n.jsx)(g.Z,{size:16,children:(0,n.jsx)(t.Z,{danger:!0,confirm:"notification.confirm.title",type:"primary",action:S()(a()().mark(function $(){var Z;return a()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,(0,M.dj)({id:s});case 2:return Z=B.sent,B.next=5,(0,M.hZ)();case 5:return B.abrupt("return",Z);case 6:case"end":return B.stop()}},$)})),onSuccess:function(){var Z,m;return!((Z=I.current)===null||Z===void 0)&&Z.reloadAndRest&&((m=I.current)===null||m===void 0||m.reloadAndRest()),!0},onError:function(){var Z,m;return!((Z=I.current)===null||Z===void 0)&&Z.reset&&((m=I.current)===null||m===void 0||m.reset()),!0},children:Y.FD.format("listManageDeleteBatch")})})},tableExtraRender:function(){return(0,n.jsx)(re.Z,{mode:"horizontal",selectedKeys:["domain"],items:[{label:(0,n.jsx)(z.Link,{to:"/app/domain/list",replace:!0,children:Y.Ob.format("container.domain.list")}),key:"domain"},{label:(0,n.jsx)(z.Link,{to:"/app/domain/cert",replace:!0,children:Y.Ob.format("container.domain.cert")}),key:"cert"}]})},pagination:(0,d.Oh)()})})}},13822:function(xe,ie,e){e.d(ie,{IE:function(){return M},IW:function(){return K},KK:function(){return le},LJ:function(){return de},RF:function(){return R},Re:function(){return F},aF:function(){return g},eE:function(){return fe},jV:function(){return ee}});var f=e(15009),a=e.n(f),ce=e(99289),S=e.n(ce),A=e(82346);function K(l){return Q.apply(this,arguments)}function Q(){return Q=S()(a()().mark(function l(h){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,A.request)("/api/app/container/status",{method:"POST",data:h}));case 1:case"end":return o.stop()}},l)})),Q.apply(this,arguments)}function M(l){return J.apply(this,arguments)}function J(){return J=S()(a()().mark(function l(h){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,A.request)("/api/app/container/get-list",{data:h,method:"POST"}));case 1:case"end":return o.stop()}},l)})),J.apply(this,arguments)}function ee(l){return N.apply(this,arguments)}function N(){return N=S()(a()().mark(function l(h){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,A.request)("/api/app/container/get-detail",{data:h,method:"POST"}));case 1:case"end":return o.stop()}},l)})),N.apply(this,arguments)}function fe(l){return c.apply(this,arguments)}function c(){return c=S()(a()().mark(function l(h){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,A.request)("/api/app/container/update",{data:h,method:"POST"}));case 1:case"end":return o.stop()}},l)})),c.apply(this,arguments)}function le(){return i.apply(this,arguments)}function i(){return i=S()(a()().mark(function l(){return a()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,A.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return O.stop()}},l)})),i.apply(this,arguments)}function de(l){return T.apply(this,arguments)}function T(){return T=S()(a()().mark(function l(h){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,A.request)("/api/app/container/export",{method:"POST",data:h,responseType:"blob"}));case 1:case"end":return o.stop()}},l)})),T.apply(this,arguments)}function F(l){return x.apply(this,arguments)}function x(){return x=S()(a()().mark(function l(h){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,A.request)("/api/app/container/commit",{method:"POST",data:h}));case 1:case"end":return o.stop()}},l)})),x.apply(this,arguments)}function R(l){return V.apply(this,arguments)}function V(){return V=S()(a()().mark(function l(h){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,A.request)("/api/app/container/upgrade",{method:"POST",data:h}));case 1:case"end":return o.stop()}},l)})),V.apply(this,arguments)}function g(l){return b.apply(this,arguments)}function b(){return b=S()(a()().mark(function l(h){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,A.request)("/api/app/container/copy",{method:"POST",data:h}));case 1:case"end":return o.stop()}},l)})),b.apply(this,arguments)}},40056:function(xe,ie,e){e.d(ie,{Z:function(){return Ze}});var f=e(67294),a=e(89739),ce=e(4340),S=e(97937),A=e(21640),K=e(78860),Q=e(93967),M=e.n(Q),J=e(29372),ee=e(64217),N=e(42550),fe=e(96159),c=e(53124),le=e(11568),i=e(14747),de=e(83559);const T=(t,r,d,u,E)=>({background:t,border:`${(0,le.bf)(u.lineWidth)} ${u.lineType} ${r}`,[`${E}-icon`]:{color:d}}),F=t=>{const{componentCls:r,motionDurationSlow:d,marginXS:u,marginSM:E,fontSize:U,fontSizeLG:z,lineHeight:te,borderRadiusLG:ue,motionEaseInOutCirc:re,withDescriptionIconSize:pe,colorText:I,colorTextHeading:G,withDescriptionPadding:k,defaultPadding:D}=t;return{[r]:Object.assign(Object.assign({},(0,i.Wf)(t)),{position:"relative",display:"flex",alignItems:"center",padding:D,wordWrap:"break-word",borderRadius:ue,[`&${r}-rtl`]:{direction:"rtl"},[`${r}-content`]:{flex:1,minWidth:0},[`${r}-icon`]:{marginInlineEnd:u,lineHeight:0},"&-description":{display:"none",fontSize:U,lineHeight:te},"&-message":{color:G},[`&${r}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${d} ${re}, opacity ${d} ${re},
        padding-top ${d} ${re}, padding-bottom ${d} ${re},
        margin-bottom ${d} ${re}`},[`&${r}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${r}-with-description`]:{alignItems:"flex-start",padding:k,[`${r}-icon`]:{marginInlineEnd:E,fontSize:pe,lineHeight:0},[`${r}-message`]:{display:"block",marginBottom:u,color:G,fontSize:z},[`${r}-description`]:{display:"block",color:I}},[`${r}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},x=t=>{const{componentCls:r,colorSuccess:d,colorSuccessBorder:u,colorSuccessBg:E,colorWarning:U,colorWarningBorder:z,colorWarningBg:te,colorError:ue,colorErrorBorder:re,colorErrorBg:pe,colorInfo:I,colorInfoBorder:G,colorInfoBg:k}=t;return{[r]:{"&-success":T(E,u,d,t,r),"&-info":T(k,G,I,t,r),"&-warning":T(te,z,U,t,r),"&-error":Object.assign(Object.assign({},T(pe,re,ue,t,r)),{[`${r}-description > pre`]:{margin:0,padding:0}})}}},R=t=>{const{componentCls:r,iconCls:d,motionDurationMid:u,marginXS:E,fontSizeIcon:U,colorIcon:z,colorIconHover:te}=t;return{[r]:{"&-action":{marginInlineStart:E},[`${r}-close-icon`]:{marginInlineStart:E,padding:0,overflow:"hidden",fontSize:U,lineHeight:(0,le.bf)(U),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${d}-close`]:{color:z,transition:`color ${u}`,"&:hover":{color:te}}},"&-close-text":{color:z,transition:`color ${u}`,"&:hover":{color:te}}}}},V=t=>({withDescriptionIconSize:t.fontSizeHeading3,defaultPadding:`${t.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`});var g=(0,de.I$)("Alert",t=>[F(t),x(t),R(t)],V),b=function(t,r){var d={};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&r.indexOf(u)<0&&(d[u]=t[u]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,u=Object.getOwnPropertySymbols(t);E<u.length;E++)r.indexOf(u[E])<0&&Object.prototype.propertyIsEnumerable.call(t,u[E])&&(d[u[E]]=t[u[E]]);return d};const l={success:a.Z,info:K.Z,error:ce.Z,warning:A.Z},h=t=>{const{icon:r,prefixCls:d,type:u}=t,E=l[u]||null;return r?(0,fe.wm)(r,f.createElement("span",{className:`${d}-icon`},r),()=>({className:M()(`${d}-icon`,r.props.className)})):f.createElement(E,{className:`${d}-icon`})},O=t=>{const{isClosable:r,prefixCls:d,closeIcon:u,handleClose:E,ariaProps:U}=t,z=u===!0||u===void 0?f.createElement(S.Z,null):u;return r?f.createElement("button",Object.assign({type:"button",onClick:E,className:`${d}-close-icon`,tabIndex:0},U),z):null};var ne=f.forwardRef((t,r)=>{const{description:d,prefixCls:u,message:E,banner:U,className:z,rootClassName:te,style:ue,onMouseEnter:re,onMouseLeave:pe,onClick:I,afterClose:G,showIcon:k,closable:D,closeText:ae,closeIcon:q,action:H,id:ve}=t,L=b(t,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[p,s]=f.useState(!1),oe=f.useRef(null);f.useImperativeHandle(r,()=>({nativeElement:oe.current}));const{getPrefixCls:$,direction:Z,closable:m,closeIcon:B,className:Pe,style:se}=(0,c.dj)("alert"),y=$("alert",u),[P,W,C]=g(y),v=me=>{var Ce;s(!0),(Ce=t.onClose)===null||Ce===void 0||Ce.call(t,me)},w=f.useMemo(()=>t.type!==void 0?t.type:U?"warning":"info",[t.type,U]),he=f.useMemo(()=>typeof D=="object"&&D.closeIcon||ae?!0:typeof D=="boolean"?D:q!==!1&&q!==null&&q!==void 0?!0:!!m,[ae,q,D,m]),j=U&&k===void 0?!0:k,ge=M()(y,`${y}-${w}`,{[`${y}-with-description`]:!!d,[`${y}-no-icon`]:!j,[`${y}-banner`]:!!U,[`${y}-rtl`]:Z==="rtl"},Pe,z,te,C,W),_=(0,ee.Z)(L,{aria:!0,data:!0}),je=f.useMemo(()=>typeof D=="object"&&D.closeIcon?D.closeIcon:ae||(q!==void 0?q:typeof m=="object"&&m.closeIcon?m.closeIcon:B),[q,D,ae,B]),X=f.useMemo(()=>{const me=D!=null?D:m;if(typeof me=="object"){const{closeIcon:Ce}=me;return b(me,["closeIcon"])}return{}},[D,m]);return P(f.createElement(J.ZP,{visible:!p,motionName:`${y}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:me=>({maxHeight:me.offsetHeight}),onLeaveEnd:G},({className:me,style:Ce},Me)=>f.createElement("div",Object.assign({id:ve,ref:(0,N.sQ)(oe,Me),"data-show":!p,className:M()(ge,me),style:Object.assign(Object.assign(Object.assign({},se),ue),Ce),onMouseEnter:re,onMouseLeave:pe,onClick:I,role:"alert"},_),j?f.createElement(h,{description:d,icon:t.icon,prefixCls:y,type:w}):null,f.createElement("div",{className:`${y}-content`},E?f.createElement("div",{className:`${y}-message`},E):null,d?f.createElement("div",{className:`${y}-description`},d):null),H?f.createElement("div",{className:`${y}-action`},H):null,f.createElement(O,{isClosable:he,prefixCls:y,closeIcon:je,handleClose:v,ariaProps:X}))))}),be=e(15671),Oe=e(43144),Ee=e(61120),Y=e(78814),n=e(82963);function Ie(t,r,d){return r=(0,Ee.Z)(r),(0,n.Z)(t,(0,Y.Z)()?Reflect.construct(r,d||[],(0,Ee.Z)(t).constructor):r.apply(t,d))}var De=e(60136),ye=function(t){function r(){var d;return(0,be.Z)(this,r),d=Ie(this,r,arguments),d.state={error:void 0,info:{componentStack:""}},d}return(0,De.Z)(r,t),(0,Oe.Z)(r,[{key:"componentDidCatch",value:function(u,E){this.setState({error:u,info:E})}},{key:"render",value:function(){const{message:u,description:E,id:U,children:z}=this.props,{error:te,info:ue}=this.state,re=(ue==null?void 0:ue.componentStack)||null,pe=typeof u=="undefined"?(te||"").toString():u,I=typeof E=="undefined"?re:E;return te?f.createElement(ne,{id:U,type:"error",message:pe,description:f.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},I)}):z}}])}(f.Component);const Se=ne;Se.ErrorBoundary=ye;var Ze=Se}}]);

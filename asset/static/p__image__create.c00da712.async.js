"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7523],{57546:function(X,B,e){e.d(B,{Z:function(){return O}});var a=e(87462),s=e(67294),D={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM653.3 424.6l52.2 52.2a8.01 8.01 0 01-4.7 13.6l-179.4 21c-5.1.6-9.5-3.7-8.9-8.9l21-179.4c.8-6.6 8.9-9.4 13.6-4.7l52.4 52.4 256.2-256.2c3.1-3.1 8.2-3.1 11.3 0l42.4 42.4c3.1 3.1 3.1 8.2 0 11.3L653.3 424.6z"}}]},name:"import",theme:"outlined"},m=D,M=e(84089),u=function(g,A){return s.createElement(M.Z,(0,a.Z)({},g,{ref:A,icon:m}))},U=s.forwardRef(u),O=U},86615:function(X,B,e){var a=e(1413),s=e(45987),D=e(22270),m=e(78045),M=e(67294),u=e(90789),U=e(40284),O=e(85893),R=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],g=M.forwardRef(function(p,b){var K=p.fieldProps,i=p.options,E=p.radioType,o=p.layout,c=p.proFieldProps,C=p.valueEnum,l=(0,s.Z)(p,R);return(0,O.jsx)(U.Z,(0,a.Z)((0,a.Z)({valueType:E==="button"?"radioButton":"radio",ref:b,valueEnum:(0,D.h)(C,void 0)},l),{},{fieldProps:(0,a.Z)({options:i,layout:o},K),proFieldProps:c,filedConfig:{customLightMode:!0}}))}),A=M.forwardRef(function(p,b){var K=p.fieldProps,i=p.children;return(0,O.jsx)(m.ZP,(0,a.Z)((0,a.Z)({},K),{},{ref:b,children:i}))}),f=(0,u.G)(A,{valuePropName:"checked",ignoreWidth:!0}),t=f;t.Group=g,t.Button=m.ZP.Button,t.displayName="ProFormComponent",B.Z=t},52688:function(X,B,e){var a=e(1413),s=e(45987),D=e(67294),m=e(40284),M=e(85893),u=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],U=D.forwardRef(function(O,R){var g=O.fieldProps,A=O.unCheckedChildren,f=O.checkedChildren,t=O.proFieldProps,p=(0,s.Z)(O,u);return(0,M.jsx)(m.Z,(0,a.Z)({valueType:"switch",fieldProps:(0,a.Z)({unCheckedChildren:A,checkedChildren:f},g),ref:R,valuePropName:"checked",proFieldProps:t,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},p))});B.Z=U},90672:function(X,B,e){var a=e(1413),s=e(45987),D=e(67294),m=e(40284),M=e(85893),u=["fieldProps","proFieldProps"],U=function(R,g){var A=R.fieldProps,f=R.proFieldProps,t=(0,s.Z)(R,u);return(0,M.jsx)(m.Z,(0,a.Z)({ref:g,valueType:"textarea",fieldProps:A,proFieldProps:f},t))};B.Z=D.forwardRef(U)},1677:function(X,B,e){var a=e(1413),s=e(55850),D=e(15861),m=e(97685),M=e(45987),u=e(88484),U=e(31365),O=e(83622),R=e(29104),g=e(67294),A=e(9105),f=e(90789),t=e(85893),p=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps","imageProps"],b=function(o){return new Promise(function(c,C){var l=new FileReader;l.readAsDataURL(o),l.onload=function(){return c(l.result)},l.onerror=function(Z){return C(Z)}})},K=function(o,c){var C,l=o.fieldProps,Z=o.action,W=o.accept,n=o.listType,k=o.title,z=k===void 0?"\u5355\u51FB\u4E0A\u4F20":k,J=o.max,ie=o.icon,H=ie===void 0?(0,t.jsx)(u.Z,{}):ie,te=o.buttonProps,j=o.disabled,L=o.proFieldProps,q=o.imageProps,G=(0,M.Z)(o,p),ne=(0,g.useState)(!1),ue=(0,m.Z)(ne,2),V=ue[0],w=ue[1],ee=(0,g.useState)(""),ae=(0,m.Z)(ee,2),Q=ae[0],se=ae[1],S=(0,g.useMemo)(function(){var x;return(x=G.fileList)!==null&&x!==void 0?x:G.value},[G.fileList,G.value]),N=function(){var x=(0,D.Z)((0,s.Z)().mark(function y(r){return(0,s.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(!r.url&&!r.preview)){d.next=4;break}return d.next=3,b(r.originFileObj);case 3:r.preview=d.sent;case 4:se(r.url||r.preview),w(!0);case 6:case"end":return d.stop()}},y)}));return function(r){return x.apply(this,arguments)}}(),ce=(0,g.useContext)(A.A),oe=(L==null?void 0:L.mode)||ce.mode||"edit",de=(J===void 0||!S||(S==null?void 0:S.length)<J)&&oe!=="read",v=(n!=null?n:l==null?void 0:l.listType)==="picture-card";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.Z,(0,a.Z)((0,a.Z)({action:Z,accept:W,ref:c,listType:n||"picture",fileList:S,onPreview:N},l),{},{name:(C=l==null?void 0:l.name)!==null&&C!==void 0?C:"file",onChange:function(y){var r;l==null||(r=l.onChange)===null||r===void 0||r.call(l,y)},children:de&&(v?(0,t.jsxs)("span",{children:[H," ",z]}):(0,t.jsxs)(O.ZP,(0,a.Z)((0,a.Z)({disabled:j||(l==null?void 0:l.disabled)},te),{},{children:[H,z]})))})),Q&&(0,t.jsx)(R.Z,(0,a.Z)((0,a.Z)({wrapperStyle:{display:"none"}},q),{},{preview:(0,a.Z)({visible:V,onVisibleChange:function(y){return w(y)},afterOpenChange:function(y){return!y&&se("")}},(q==null?void 0:q.preview)||{}),src:Q}))]})},i=(0,f.G)(g.forwardRef(K),{getValueFromEvent:function(o){return o.fileList}});B.Z=i},37476:function(X,B,e){e.d(B,{Y:function(){return i}});var a=e(55850),s=e(15861),D=e(1413),m=e(97685),M=e(45987),u=e(73177),U=e(21532),O=e(85576),R=e(21770),g=e(8880),A=e(80334),f=e(67294),t=e(73935),p=e(89671),b=e(85893),K=["children","trigger","onVisibleChange","onOpenChange","modalProps","onFinish","submitTimeout","title","width","visible","open"];function i(E){var o,c,C=E.children,l=E.trigger,Z=E.onVisibleChange,W=E.onOpenChange,n=E.modalProps,k=E.onFinish,z=E.submitTimeout,J=E.title,ie=E.width,H=E.visible,te=E.open,j=(0,M.Z)(E,K);(0,A.ET)(!j.footer||!(n!=null&&n.footer),"ModalForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var L=(0,f.useContext)(U.ZP.ConfigContext),q=(0,f.useState)([]),G=(0,m.Z)(q,2),ne=G[1],ue=(0,f.useState)(!1),V=(0,m.Z)(ue,2),w=V[0],ee=V[1],ae=(0,R.Z)(!!H,{value:te||H,onChange:W||Z}),Q=(0,m.Z)(ae,2),se=Q[0],S=Q[1],N=(0,f.useRef)(null),ce=(0,f.useCallback)(function(d){N.current===null&&d&&ne([]),N.current=d},[]),oe=(0,f.useRef)(),de=(0,f.useCallback)(function(){var d,P,h,T=(d=(P=j.form)!==null&&P!==void 0?P:(h=j.formRef)===null||h===void 0?void 0:h.current)!==null&&d!==void 0?d:oe.current;T&&n!==null&&n!==void 0&&n.destroyOnClose&&T.resetFields()},[n==null?void 0:n.destroyOnClose,j.form,j.formRef]);(0,f.useImperativeHandle)(j.formRef,function(){return oe.current},[oe.current]),(0,f.useEffect)(function(){(te||H)&&(W==null||W(!0),Z==null||Z(!0))},[H,te]);var v=(0,f.useMemo)(function(){return l?f.cloneElement(l,(0,D.Z)((0,D.Z)({key:"trigger"},l.props),{},{onClick:function(){var d=(0,s.Z)((0,a.Z)().mark(function h(T){var I,_;return(0,a.Z)().wrap(function($){for(;;)switch($.prev=$.next){case 0:S(!se),(I=l.props)===null||I===void 0||(_=I.onClick)===null||_===void 0||_.call(I,T);case 2:case"end":return $.stop()}},h)}));function P(h){return d.apply(this,arguments)}return P}()})):null},[S,l,se]),x=(0,f.useMemo)(function(){var d,P,h,T,I,_,re;return j.submitter===!1?!1:(0,g.T)({searchConfig:{submitText:(d=(P=n==null?void 0:n.okText)!==null&&P!==void 0?P:(h=L.locale)===null||h===void 0||(h=h.Modal)===null||h===void 0?void 0:h.okText)!==null&&d!==void 0?d:"\u786E\u8BA4",resetText:(T=(I=n==null?void 0:n.cancelText)!==null&&I!==void 0?I:(_=L.locale)===null||_===void 0||(_=_.Modal)===null||_===void 0?void 0:_.cancelText)!==null&&T!==void 0?T:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:z?w:void 0,onClick:function(me){var le;S(!1),n==null||(le=n.onCancel)===null||le===void 0||le.call(n,me)}}},(re=j.submitter)!==null&&re!==void 0?re:{})},[(o=L.locale)===null||o===void 0||(o=o.Modal)===null||o===void 0?void 0:o.cancelText,(c=L.locale)===null||c===void 0||(c=c.Modal)===null||c===void 0?void 0:c.okText,n,j.submitter,S,w,z]),y=(0,f.useCallback)(function(d,P){return(0,b.jsxs)(b.Fragment,{children:[d,N.current&&P?(0,b.jsx)(f.Fragment,{children:(0,t.createPortal)(P,N.current)},"submitter"):P]})},[]),r=(0,f.useCallback)(function(){var d=(0,s.Z)((0,a.Z)().mark(function P(h){var T,I,_;return(0,a.Z)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return T=k==null?void 0:k(h),z&&T instanceof Promise&&(ee(!0),I=setTimeout(function(){return ee(!1)},z),T.finally(function(){clearTimeout(I),ee(!1)})),$.next=4,T;case 4:return _=$.sent,_&&S(!1),$.abrupt("return",_);case 7:case"end":return $.stop()}},P)}));return function(P){return d.apply(this,arguments)}}(),[k,S,z]),F=(0,u.X)(se);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(O.Z,(0,D.Z)((0,D.Z)((0,D.Z)({title:J,width:ie||800},n),F),{},{onCancel:function(P){var h;z&&w||(S(!1),n==null||(h=n.onCancel)===null||h===void 0||h.call(n,P))},afterClose:function(){var P;de(),se&&S(!1),n==null||(P=n.afterClose)===null||P===void 0||P.call(n)},footer:j.submitter!==!1?(0,b.jsx)("div",{ref:ce,style:{display:"flex",justifyContent:"flex-end"}}):null,children:(0,b.jsx)(p.I,(0,D.Z)((0,D.Z)({formComponentType:"ModalForm",layout:"vertical"},j),{},{onInit:function(P,h){var T;j.formRef&&(j.formRef.current=h),j==null||(T=j.onInit)===null||T===void 0||T.call(j,P,h),oe.current=h},formRef:oe,submitter:x,onFinish:function(){var d=(0,s.Z)((0,a.Z)().mark(function P(h){var T;return(0,a.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,r(h);case 2:return T=_.sent,_.abrupt("return",T);case 4:case"end":return _.stop()}},P)}));return function(P){return d.apply(this,arguments)}}(),contentRender:y,children:C}))})),v]})}},24739:function(X,B,e){e.d(B,{UW:function(){return s}});var a=e(97269),s=a.A.Group},51100:function(X,B,e){e.d(B,{Z:function(){return M}});var a=e(97961),s=e(91604),D=e(1677),m=e(85893);function M(u){return u.showDragger?(0,m.jsx)(s.Z,{max:u.max?u.max:1,title:u.title,label:u.label,required:u.required,rules:[{required:u.required}],fieldProps:{multiple:!!(u.max&&u.max>1),name:"file",accept:u.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(O){return new Promise(function(R){var g;(0,a._2)({path:(g=O.response.data.path)!==null&&g!==void 0?g:""}).then(function(A){R(!0)})})}},name:u.name}):(0,m.jsx)(D.Z,{max:u.max?u.max:1,title:u.title,label:u.label,required:u.required,rules:[{required:u.required}],fieldProps:{multiple:!!(u.max&&u.max>1),name:"file",accept:u.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(O){return new Promise(function(R){var g;(0,a._2)({path:(g=O.response.data.path)!==null&&g!==void 0?g:""}).then(function(A){R(!0)})})}},name:u.name})}},4937:function(X,B,e){e.r(B),e.d(B,{default:function(){return q}});var a=e(15009),s=e.n(a),D=e(99289),m=e.n(D),M=e(5574),u=e.n(M),U=e(91058),O=e(74344),R=e(11106),g=e(62370),A=e(12491),f=e(36146),t=e(85893);function p(G){var ne=new f.Uo("image");return(0,t.jsx)(g.Z,{shouldUpdate:!0,children:function(V){var w=V.getFieldValue,ee=V.setFieldValue;return[(0,t.jsx)(g.Z,{name:G.name,hidden:!0},"input"),(0,t.jsx)(A.Z,{title:ne.format("formBuildDockerfileContent"),onImport:function(Q){return ee(G.name,Q),!0},onLoad:function(Q){if(Q.indexOf("FROM ")<0)throw new Error(f.FD.format("commonFileIncorrectFormat",{name:"Dockerfile"}));return!0}},"importFile"),(0,t.jsx)(R.ZP,{value:w("buildDockerfileContent"),onChange:function(Q){ee(G.name,Q)},height:"600px",theme:"dark",style:{marginBottom:"20px"}},"codeMirror")]}})}var b=e(51100),K=e(24963),i=e(97961),E=e(18148),o=e(75870),c=e(38345),C=e(97269),l=e(24739),Z=e(5966),W=e(52688),n=e(64317),k=e(86615),z=e(97462),J=e(90672),ie=e(82346),H=e(42075),te=e(83062),j=e(91845),L=e(67294);function q(){var G=(0,L.useContext)(K.Z),ne=G.loading,ue=G.message,V=(0,L.useRef)(),w=(0,ie.useSearchParams)(),ee=u()(w,2),ae=ee[0],Q=ee[1],se=(0,L.useState)("dockerfile"),S=u()(se,2),N=S[0],ce=S[1],oe=(0,ie.useNavigate)(),de=(0,L.useRef)(),v=new f.Uo("image");return(0,L.useEffect)(function(){var x,y=(x=ae.get("id"))!==null&&x!==void 0?x:0;y&&(ne.show(),(0,E.T8)({id:parseInt(y)}).then(function(r){var F,d,P;ce(r.data.task.buildType);var h,T,I;if(r.data&&r.data.task&&r.data.task.setting&&r.data.task.setting.buildGit){var _=r.data.task.setting.buildGit;if(_.includes("#")){var re=_.split("#"),$=u()(re,2),me=$[0],le=$[1];if(h=me,le.includes(":")){var fe=le.split(":"),Y=u()(fe,1);T=Y[0]}}else h=_;h.includes("@")&&(I=new URL(h),I&&(h="".concat(I.origin).concat(I.pathname)))}(F=V.current)===null||F===void 0||F.setFieldsValue({title:r.data.task.title,imageTag:r.data.task.tag,imageRegistry:r.data.task.setting.registry,uploadType:r.data.task.buildType,buildDockerfileRoot:r.data.task.setting.buildRoot,buildDockerfileContent:r.data.task.setting.buildDockerfile,buildDockerfileName:r.data.task.setting.buildDockerfileName,buildGit:h,buildGitBranch:T,buildGitUsername:(d=I)===null||d===void 0?void 0:d.username,buildGitPassword:(P=I)===null||P===void 0?void 0:P.password,buildArgs:r.data.task.setting.buildArgs,platform:r.data.task.setting.platform,enablePush:r.data.task.setting.enablePush})}).finally(function(){ne.destroy()}))},[]),(0,t.jsxs)(c.Z,{direction:"column",ghost:!0,gutter:[0,10],children:[(0,t.jsx)(c.Z,{bordered:!0,headerBordered:!0,children:(0,t.jsxs)(C.A,{submitter:{render:function(y,r){return(0,t.jsx)(H.Z,{children:r})}},onFinish:function(){var x=m()(s()().mark(function y(r){var F,d,P,h,T,I,_,re,$,me,le;return s()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(N!="containerTar"){Y.next=8;break}return Y.next=3,(0,i.vC)({tag:r.imageTag,registry:r.imageRegistry,tar:(F=r.containerTar[0].response.data.path)!==null&&F!==void 0?F:"",cmd:r.cmd,workDir:r.workDir,expose:r.expose?r.expose.split(`
`):[],env:r.env?r.env.split(`
`):[],volume:r.volume?r.volume.split(`
`):[]});case 3:return d=Y.sent,oe("/image/list"),Y.abrupt("return",!0);case 8:return T=(P=ae.get("id"))!==null&&P!==void 0?P:"0",I={name:"",arch:""},i.ii.map(function(pe){pe.name==r.platform&&(I=pe)}),_={id:parseInt(T),tag:r.imageTag,title:r.title,registry:r.imageRegistry,buildDockerfileContent:r.buildDockerfileContent,buildDockerfileRoot:r.buildDockerfileRoot,buildDockerfileName:r.buildDockerfileName,buildZip:"",buildGit:r.buildGit,buildType:N,platform:{type:I.name,arch:I.arch},buildArgs:r.buildArgs,enablePush:r.enablePush},r.buildZip&&r.buildZip.length>0&&(_.buildZip=(re=r.buildZip[0].response.data.path)!==null&&re!==void 0?re:""),N=="git"&&(_.buildGit=_.buildGit+"#"+(r.branch||"master"),r.buildDockerfileRoot&&r.buildDockerfileRoot!=""&&(_.buildGit="".concat(_.buildGit,":").concat(r.buildDockerfileRoot)),r.buildGitUsername&&r.buildGitPassword&&($="https://",_.buildGit.includes("http://")&&($="http://"),_.buildGit="".concat(_.buildGit.replace($,"".concat($).concat(r.buildGitUsername,":").concat(r.buildGitPassword,"@"))))),(h=de.current)===null||h===void 0||h.start("build",T!=null?T:0),Y.next=17,(0,i.fN)(_);case 17:if(me=Y.sent,!me){Y.next=22;break}return(le=de.current)===null||le===void 0||le.reset(),oe("/image/list"),Y.abrupt("return",!0);case 22:case"end":return Y.stop()}},y)}));return function(y){return x.apply(this,arguments)}}(),formRef:V,children:[(0,t.jsxs)(l.UW,{children:[(0,t.jsx)(Z.Z,{width:"lg",label:v.format("formTitle"),name:"title",fieldProps:{onChange:function(y){var r="";if(y.target.value){var F,d=(0,j.N9)(y.target.value.trim(),{toneType:"none",type:"array"});r=d.join(""),(F=V.current)===null||F===void 0||F.setFieldValue("imageTag",r)}}}}),(0,t.jsx)(W.Z,{label:"\u6784\u5EFA\u5B8C\u6210\u540E\u63A8\u9001\u955C\u50CF",name:"enablePush"})]}),(0,t.jsxs)(l.UW,{children:[(0,t.jsx)(n.Z,{width:"lg",label:v.format("formImageRegistry"),tooltip:v.format("formImageRegistryTip"),name:"imageRegistry",request:m()(s()().mark(function x(){var y;return s()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,o.Ot)();case 2:return y=F.sent,F.abrupt("return",y.data.list.map(function(d){return{value:d.serverAddress,label:d.title+"("+d.serverAddress+")"}}));case 4:case"end":return F.stop()}},x)}))}),(0,t.jsx)(Z.Z,{rules:[{required:!0}],width:"lg",required:!0,tooltip:v.format("formImageTagTip"),placeholder:v.format("formImageTagEmpty"),label:v.format("formImageTag"),name:"imageTag"})]}),(0,t.jsx)(k.Z.Group,{name:"uploadType",label:v.format("formUploadType"),initialValue:N,options:v.option("formUploadTypeOption",["dockerfile","zip","git","containerTar"]).map(function(x){return{label:(0,t.jsx)(te.Z,{title:v.format("formUploadTypeOptionTip."+x.value),children:x.label}),value:x.value}}),fieldProps:{onChange:function(y){ce(y.target.value)}}}),(0,t.jsx)(z.Z,{name:["uploadType"],children:function(y){var r=y.uploadType;if(r=="containerTar")return[(0,t.jsx)(Z.Z,{tooltip:v.format("formWorkDirTip"),label:v.format("formWorkDir"),name:"workDir",placeholder:v.format("formWorkDirEmpty")},"workDir"),(0,t.jsx)(Z.Z,{required:!0,tooltip:v.format("formCmdTip"),rules:[{required:!0}],label:"CMD",name:"cmd"},"cmd"),(0,t.jsx)(J.Z,{tooltip:v.format("formExposeTip"),label:v.format("formExpose"),name:"expose",placeholder:`80 
9000`},"expose"),(0,t.jsx)(J.Z,{tooltip:v.format("formEnvTip"),label:v.format("formEnv"),name:"env",placeholder:`TEST_VALUE=123 
TEST_NO_VALUE=`},"env"),(0,t.jsx)(J.Z,{tooltip:v.format("formVolumeTip"),label:v.format("formVolume"),name:"volume",placeholder:`/app 
/home`},"volume")];if(r=="zip"||r=="git")return[(0,t.jsxs)(l.UW,{children:[(0,t.jsx)(Z.Z,{width:"lg",name:"buildDockerfileRoot",label:v.format("formBuildDockerfileRoot"),fieldProps:{addonBefore:"/"},placeholder:v.format("formBuildDockerfileRootEmpty")},"buildDockerfileRoot"),(0,t.jsx)(Z.Z,{width:"lg",name:"buildDockerfileName",label:v.format("formBuildDockerfileName"),placeholder:v.format("formBuildDockerfileNameEmpty")},"dockerfileName")]}),(0,t.jsx)(U.Z,{name:"buildArgs",showCardGhost:!0,showAddButton:!0,showCodeMode:!0,listLabel:v.format("formBuildArgs")},"env")]}}),N=="zip"&&(0,t.jsx)(b.Z,{required:!0,label:v.format("formBuildZip"),name:"buildZip",accept:".zip"}),N=="containerTar"&&(0,t.jsx)(b.Z,{required:!0,label:v.format("formBuildContainerTar"),name:"containerTar",accept:".tar"}),N=="git"&&(0,t.jsxs)(l.UW,{children:[(0,t.jsxs)(H.Z.Compact,{block:!0,children:[(0,t.jsx)(Z.Z,{width:"md",label:v.format("formBuildGitUsername"),name:"buildGitUsername",placeholder:v.format("formBuildGitUsernameEmpty")}),(0,t.jsx)(Z.Z,{width:"md",label:v.format("formBuildGitPassword"),name:"buildGitPassword"})]}),(0,t.jsxs)(H.Z.Compact,{block:!0,children:[(0,t.jsx)(Z.Z,{label:v.format("formBuildGitBranch"),width:"md",name:"buildGitBranch"}),(0,t.jsx)(Z.Z,{fieldProps:{min:2,max:255},rules:[{required:!0}],width:"lg",required:!0,placeholder:v.format("formBuildGitEmpty"),label:v.format("formBuildGit"),name:"buildGit"})]})]}),N=="dockerfile"&&(0,t.jsx)(p,{name:"buildDockerfileContent"})]})}),(0,t.jsx)(O.Z,{ref:de})]})}},97961:function(X,B,e){e.d(B,{GH:function(){return A},_2:function(){return t},fN:function(){return U},ii:function(){return u},vC:function(){return R}});var a=e(15009),s=e.n(a),D=e(99289),m=e.n(D),M=e(82346),u=[{name:"amd64",arch:"amd64",search:["amd64","x86_64","86_64"]},{name:"arm64",arch:"arm64",search:["arm64","arrch64"]},{name:"i386",arch:"386",search:[]},{name:"arm/v6",arch:"arm",search:[]},{name:"arm/v7",arch:"arm",search:[]},{name:"arm/v8",arch:"arm64",search:[]},{name:"ppc64le",arch:"ppc64le",search:[]},{name:"riscv64",arch:"riscv64",search:[]}];function U(i){return O.apply(this,arguments)}function O(){return O=m()(s()().mark(function i(E){return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,M.request)("/api/app/image/create-by-dockerfile",{method:"POST",data:E}));case 1:case"end":return c.stop()}},i)})),O.apply(this,arguments)}function R(i){return g.apply(this,arguments)}function g(){return g=m()(s()().mark(function i(E){return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,M.request)("/api/app/image/import-by-container-tar",{method:"POST",data:E}));case 1:case"end":return c.stop()}},i)})),g.apply(this,arguments)}function A(i){return f.apply(this,arguments)}function f(){return f=m()(s()().mark(function i(E){return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,M.request)("/api/app/image/import-by-image-tar",{method:"POST",data:E}));case 1:case"end":return c.stop()}},i)})),f.apply(this,arguments)}function t(i){return p.apply(this,arguments)}function p(){return p=m()(s()().mark(function i(E){return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,M.request)("/api/common/attach/delete",{method:"POST",data:E});case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},i)})),p.apply(this,arguments)}function b(){return K.apply(this,arguments)}function K(){return K=_asyncToGenerator(_regeneratorRuntime().mark(function i(){return _regeneratorRuntime().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",request("/api/app/image/get-template-list",{method:"POST"}));case 1:case"end":return o.stop()}},i)})),K.apply(this,arguments)}},75870:function(X,B,e){e.d(B,{Ot:function(){return u},ZH:function(){return O},ix:function(){return g},t1:function(){return f}});var a=e(15009),s=e.n(a),D=e(99289),m=e.n(D),M=e(82346);function u(p){return U.apply(this,arguments)}function U(){return U=m()(s()().mark(function p(b){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,M.request)("/api/common/registry/get-list",{method:"POST",data:b}));case 1:case"end":return i.stop()}},p)})),U.apply(this,arguments)}function O(p){return R.apply(this,arguments)}function R(){return R=m()(s()().mark(function p(b){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,M.request)("/api/common/registry/create",{method:"POST",data:b}));case 1:case"end":return i.stop()}},p)})),R.apply(this,arguments)}function g(p){return A.apply(this,arguments)}function A(){return A=m()(s()().mark(function p(b){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,M.request)("/api/common/registry/delete",{method:"POST",data:b}));case 1:case"end":return i.stop()}},p)})),A.apply(this,arguments)}function f(p){return t.apply(this,arguments)}function t(){return t=m()(s()().mark(function p(b){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,M.request)("/api/common/registry/get-detail",{method:"POST",data:b}));case 1:case"end":return i.stop()}},p)})),t.apply(this,arguments)}},85576:function(X,B,e){e.d(B,{Z:function(){return c}});var a=e(56080),s=e(38657),D=e(56745),m=e(67294),M=e(93967),u=e.n(M),U=e(40974),O=e(8745),R=e(53124),g=e(35792),A=e(32409),f=e(4941),t=e(71194),p=function(C,l){var Z={};for(var W in C)Object.prototype.hasOwnProperty.call(C,W)&&l.indexOf(W)<0&&(Z[W]=C[W]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,W=Object.getOwnPropertySymbols(C);n<W.length;n++)l.indexOf(W[n])<0&&Object.prototype.propertyIsEnumerable.call(C,W[n])&&(Z[W[n]]=C[W[n]]);return Z};const b=C=>{const{prefixCls:l,className:Z,closeIcon:W,closable:n,type:k,title:z,children:J,footer:ie}=C,H=p(C,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:te}=m.useContext(R.E_),j=te(),L=l||te("modal"),q=(0,g.Z)(j),[G,ne,ue]=(0,t.ZP)(L,q),V=`${L}-confirm`;let w={};return k?w={closable:n!=null?n:!1,title:"",footer:"",children:m.createElement(A.O,Object.assign({},C,{prefixCls:L,confirmPrefixCls:V,rootPrefixCls:j,content:J}))}:w={closable:n!=null?n:!0,title:z,footer:ie!==null&&m.createElement(f.$,Object.assign({},C)),children:J},G(m.createElement(U.s,Object.assign({prefixCls:L,className:u()(ne,`${L}-pure-panel`,k&&V,k&&`${V}-${k}`,Z,ue,q)},H,{closeIcon:(0,f.b)(L,W),closable:n},w)))};var K=(0,O.i)(b),i=e(94423);function E(C){return(0,a.ZP)((0,a.uW)(C))}const o=D.Z;o.useModal=i.Z,o.info=function(l){return(0,a.ZP)((0,a.cw)(l))},o.success=function(l){return(0,a.ZP)((0,a.vq)(l))},o.error=function(l){return(0,a.ZP)((0,a.AQ)(l))},o.warning=E,o.warn=E,o.confirm=function(l){return(0,a.ZP)((0,a.Au)(l))},o.destroyAll=function(){for(;s.Z.length;){const l=s.Z.pop();l&&l()}},o.config=a.ai,o._InternalPanelDoNotUseOrYouWillBeFired=K;var c=o}}]);
